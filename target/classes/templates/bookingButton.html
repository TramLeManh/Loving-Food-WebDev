<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script>
    async function handleBooking(restaurant_id) {
        try {
            // Make the POST request
            const postResponse = await fetch(`/user/booking/${restaurant_id}`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
            });

            if (!postResponse.ok) {
                window.location.href = "/account/login";
                return;
            }


            const response = await postResponse.json();

            window.location.href = `/user/booking/${restaurant_id}?booking_id=${response.booking_id}`;
        } catch (error) {
            console.error("Error during booking process:", error);
            window.location.href = "/error";
        }
    }
</script>
<body>
<!-- Button for booking -->
<!--Nhet thymleaf vao-->
<!--<button th:attr="onclick='deleteBooking(' + ${booking.bookingId} + ')'">Delete</button>-->
<button type="button" onclick="handleBooking(1424)">Book Now</button>
</body>
</html>